<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/css/bootstrap.min.css" rel="stylesheet"
          integrity="sha384-EVSTQN3/azprG1Anm3QDgpJLIm9Nao0Yz1ztcQTwFspd3yD65VohhpuuCOmLASjC" crossorigin="anonymous">

    <link href="https://fonts.googleapis.com/css2?family=Jua&display=swap" rel="stylesheet">

    <link rel="stylesheet" type="text/css" href="../static/index_style.css">

    <title>ë…ì„œë¡œ ë§ˆìŒ ë‚˜ëˆ„ê¸°</title>

    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.5.1/jquery.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/js/bootstrap.bundle.min.js"
            integrity="sha384-MrcW6ZMFYlzcLA8Nl+NtUVF0sA7MsXsP1UyJoMp4YLEuNSfAP+JcXn/tWtIaxVXM"
            crossorigin="anonymous"></script>


    <script>

        function reviewSubmit() {
            let url = prompt("URLì„ ì…ë ¥í•˜ì„¸ìš”.");

            if (url == null)
                return false;
            else if (urlChk(url)) {
                document.getElementById("bookUrl").value = url;
            } else {
                return false;
            }
        }

        function urlChk(url) {
            let chkUrl = 'https://search.shopping.naver.com/book/catalog';

            if (!url.includes('.')) {
                alert('URL í˜•ì‹ì´ ì˜¬ë°”ë¥´ì§€ ì•ŠìŠµë‹ˆë‹¤.');
                return false;
            }

            if (!url.includes(chkUrl)) {
                alert('ë„¤ì´ë²„ ì±…ì´ ì•„ë‹™ë‹ˆë‹¤. ë‹¤ì‹œ ì…ë ¥í•´ì£¼ì„¸ìš”.');
                return false;
            }
            return true;
        }

        function copyBookUrl() {
            const url = document.getElementById('copyUrl');
            url.style.display = 'block';	        // ìˆ¨ê²¨ë‘” input íƒœê·¸ blockì²˜ë¦¬
            url.select();	                    // ë³µì‚¬í•  text ë¸”ëŸ­
            document.execCommand('copy');	    // ë“œë ˆê·¸ëœ text í´ë¦½ë³´ë“œì— ë³µì‚¬
            url.style.display = 'none';	        // ë‹¤ì‹œ ìˆ¨ê¸°ê¸°
        }

        function deleteBook() {
            $.ajax({
                type: "DELETE",
                url: "/<int:param>",
                data: {},
                success: function (response) {
                    alert(response['msg'])
                    window.location.replace('/')
                }
            });
        }


    </script>
</head>

<body>
<div class="mytitle">

    <div class="mmytitle">
        <p class="mTitle"><a href="/">ë…ì„œë¡œ ë§ˆìŒ ë‚˜ëˆ„ê¸°</a></p>
    </div>


    <div class="best">
        <h6>
            <b>ğŸ†ì›”ê°„ ë² ìŠ¤íŠ¸ì…€ëŸ¬</b>
        </h6>

        <table class="table table-hover">
            <thead>
            <tr>
                <th scope="col">#</th>
                <th scope="col">ë„ì„œëª…</th>
                <th scope="col">ì‘ê°€</th>
                <th scope="col">ì¶œíŒì‚¬</th>
            </tr>
            </thead>
            <tbody>
            <tr id="rank1">
                <th scope="row">1</th>
                <td>í•˜ì–¼ë¹ˆ</td>
                <td>ê¹€í›ˆ</td>
                <td>ë¬¸í•™ë™ë„¤</td>
            </tr>
            <tr id="rank2">
                <th scope="row">2</th>
                <td>ë¶ˆí¸í•œ í¸ì˜ì  2</td>
                <td>ê¹€í˜¸ì—°</td>
                <td>ë‚˜ë¬´ì˜†ì˜ì</td>
            </tr>
            <tr id="rank3">
                <th scope="row">3</th>
                <td>ì—­í–‰ì (10ë§Œë¶€ ê¸°ë… í˜ì´í¬ ì—ë””ì…˜)</td>
                <td>ìì²­</td>
                <td>ì›…ì§„ì§€ì‹í•˜ìš°ìŠ¤</td>
            </tr>
            </tbody>
        </table>
    </div>
</div>


<form action="/review" method="get" onsubmit="return reviewSubmit()">
    <div class="mBtn">
        <input type="hidden" id="bookUrl" name="bUrl">
        <input id="reviewBtn" class="btn btn-light" type="submit" value="ğŸ™ŒğŸ» ë§ˆ ìŒ ê³µ ìœ  ğŸ™ŒğŸ»">
    </div>
</form>

<div align="center">
    <input type="text" id="copyUrl"
           value="https://search.shopping.naver.com/book/search/category?bookTabType=ALL&catId=50005561&pageIndex=1&pageSize=40"
           style="display: none;"/>
    <input type="button" onclick="copyBookUrl()" value="URL ë³µì‚¬"/>
    <input type="button"
           onclick="window.open('https://search.shopping.naver.com/book/search/category?bookTabType=ALL&catId=50005561&pageIndex=1&pageSize=40')"
           value="URL ì´ë™"/>
</div>

<div class="mycards">
    <div class="row row-cols-1 row-cols-md-4 g-4" id="cards-box">

        {% for book in books %}
            {% set s = book['star'] | int %}
            <div class="col">
                <div class="card h-100">
                    <a href="/{{ book['bnum'] }}">
                        <img src="{{ book['image'] }}" class="card-img-top" height="350px">

                    <div class="card-body">
                        <h5 class="card-title">{{ book['title'] }}</h5>

                        {% for i in range(s) %}
                            <span>â­</span>
                        {% endfor %}

                        <hr>

                        <p class="card-text">{{ book['content'] }}</p>
                    </div>
                    </a>
                </div>
            </div>
        {% endfor %}


        <!-- Temp Data -->
        <!--
            <div class="col">
            <div class="card h-100">
                <img src="https://search.pstatic.net/common/?src=http%3A%2F%2Fblogfiles.naver.net%2FMjAyMjA3MjFfMjg2%2FMDAxNjU4Mzc4MTUwMTg3.2NF0yW3F_HV_6dWb6qN_-b-Ec6orRpXX6A2MKqGqD_Ig.D3fDYnzLFiyHPOYVatnfU-Zz2XqAGcpAHEPR4AQBWk0g.JPEG.sheisa%2F20220721%25A3%25DF115915.jpg&type=sc960_832" class="card-img-top">
                <div class="card-body">
                    <h5 class="card-title">Title</h5>
                    <p class="card-text">DESC</p>
                    <p>STAR</p>
                    <p class="mycomment">Comment</p>
                </div>
            </div>
            </div>

            <div class="col">
                <div class="card h-100">
                    <img src="https://search.pstatic.net/common/?src=http%3A%2F%2Fblogfiles.naver.net%2FMjAyMjA3MjFfMjg2%2FMDAxNjU4Mzc4MTUwMTg3.2NF0yW3F_HV_6dWb6qN_-b-Ec6orRpXX6A2MKqGqD_Ig.D3fDYnzLFiyHPOYVatnfU-Zz2XqAGcpAHEPR4AQBWk0g.JPEG.sheisa%2F20220721%25A3%25DF115915.jpg&type=sc960_832" class="card-img-top">
                    <div class="card-body">
                        <h5 class="card-title">Title</h5>
                        <p class="card-text">DESC</p>
                        <p>STAR</p>
                        <p class="mycomment">Comment</p>
                    </div>
                </div>
            </div>

            <div class="col">
                <div class="card h-100">
                    <img src="https://search.pstatic.net/common/?src=http%3A%2F%2Fblogfiles.naver.net%2FMjAyMjA3MjFfMjg2%2FMDAxNjU4Mzc4MTUwMTg3.2NF0yW3F_HV_6dWb6qN_-b-Ec6orRpXX6A2MKqGqD_Ig.D3fDYnzLFiyHPOYVatnfU-Zz2XqAGcpAHEPR4AQBWk0g.JPEG.sheisa%2F20220721%25A3%25DF115915.jpg&type=sc960_832" class="card-img-top">
                    <div class="card-body">
                        <h5 class="card-title">Title</h5>
                        <p class="card-text">DESC</p>
                        <p>STAR</p>
                        <p class="mycomment">Comment</p>
                    </div>
                </div>
            </div>

            <div class="col">
                <div class="card h-100">
                    <img src="https://search.pstatic.net/common/?src=http%3A%2F%2Fblogfiles.naver.net%2FMjAyMjA3MjFfMjg2%2FMDAxNjU4Mzc4MTUwMTg3.2NF0yW3F_HV_6dWb6qN_-b-Ec6orRpXX6A2MKqGqD_Ig.D3fDYnzLFiyHPOYVatnfU-Zz2XqAGcpAHEPR4AQBWk0g.JPEG.sheisa%2F20220721%25A3%25DF115915.jpg&type=sc960_832" class="card-img-top">
                    <div class="card-body">
                        <h5 class="card-title">Title</h5>
                        <p class="card-text">DESC</p>
                        <p>STAR</p>
                        <p class="mycomment">Comment</p>
                    </div>
                </div>
            </div>
        -->

    </div>

</div>
</body>
</html>